{"remainingRequest":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\src\\components\\ClassSelect.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\src\\components\\ClassSelect.vue","mtime":1626844705207},{"path":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654589906191},{"path":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\babel-loader\\lib\\index.js","mtime":1654589946268},{"path":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654589906191},{"path":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1654589924061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL01hbnMndGVpJ24vRGVza3RvcC9teWNvZGUvLm5ldC9cdTUyNERcdTdBRUYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IE5DYXNjYWRlciB9IGZyb20gIm5haXZlLXVpIjsKCmZ1bmN0aW9uIGdldENsYXNzKF94KSB7CiAgcmV0dXJuIF9nZXRDbGFzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0Q2xhc3MoKSB7CiAgX2dldENsYXNzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihvcHRpb24pIHsKICAgIHZhciBjaGlsZHJlbiwgcmVzLCBqOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgY2hpbGRyZW4gPSBbXTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL21ham9yOiIuY29uY2F0KG9wdGlvbi52YWx1ZSwgIi9jbGFzczphbGwiKSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGogPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgai5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaCh7CiAgICAgICAgICAgICAgICBsYWJlbDogeC5uYW1lLAogICAgICAgICAgICAgICAgdmFsdWU6IHguaWQsCiAgICAgICAgICAgICAgICBkZXB0aDogb3B0aW9uLmRlcHRoLAogICAgICAgICAgICAgICAgaXNMZWFmOiB0cnVlCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgY2hpbGRyZW4pOwoKICAgICAgICAgIGNhc2UgOToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX2dldENsYXNzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGdldE1ham9yKCkgewogIHJldHVybiBfZ2V0TWFqb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2dldE1ham9yKCkgewogIF9nZXRNYWpvciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICB2YXIgbWFqb3IsIHJlcywgajsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIG1ham9yID0gW107CiAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwczovL2xvY2FsaG9zdDo1MDAxL2FwaS9tYWpvcjphbGwiKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgaiA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICBqLmZvckVhY2goZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICBtYWpvci5wdXNoKHsKICAgICAgICAgICAgICAgIGxhYmVsOiB4Lm5hbWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogeC5pZCwKICAgICAgICAgICAgICAgIGRlcHRoOiAxLAogICAgICAgICAgICAgICAgaXNMZWFmOiBmYWxzZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIG1ham9yKTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUzKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRNYWpvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTkNhc2NhZGVyOiBOQ2FzY2FkZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcHRpb25zOiBbXSwKICAgICAgdmFsdWU6IG51bGwsCiAgICAgIGlubG9hZGluZzogdHJ1ZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0TWFqb3IoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfdGhpcy5vcHRpb25zID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfdGhpcy5pbmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIHByb3BzOiBbIm9uLWNoYW5nZSIsICJtdWx0aSJdLAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUobmV3VmFsKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIG5ld1ZhbCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVMb2FkOiBmdW5jdGlvbiBoYW5kbGVMb2FkKG9wdGlvbikgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICBnZXRDbGFzcyhvcHRpb24pLnRoZW4oZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIG9wdGlvbi5jaGlsZHJlbiA9IGM7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\src\\components\\ClassSelect.vue"],"names":[],"mappings":";;;;;AAgBA,SAAS,SAAT,QAA0B,UAA1B;;SAEe,Q;;;;;sEAAf,kBAAwB,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AACQ,YAAA,QADR,GACmB,EADnB;AAAA;AAAA,mBAEkB,KAAK,4CACiB,MAAM,CAAC,KADxB,gBAFvB;;AAAA;AAEM,YAAA,GAFN;AAAA;AAAA,mBAKgB,GAAG,CAAC,IAAJ,EALhB;;AAAA;AAKM,YAAA,CALN;AAME,YAAA,CAAC,CAAC,OAAF,CAAU,UAAC,CAAD,EAAO;AACf,cAAA,QAAQ,CAAC,IAAT,CAAc;AACZ,gBAAA,KAAK,EAAE,CAAC,CAAC,IADG;AAEZ,gBAAA,KAAK,EAAE,CAAC,CAAC,EAFG;AAGZ,gBAAA,KAAK,EAAE,MAAM,CAAC,KAHF;AAIZ,gBAAA,MAAM,EAAE;AAJI,eAAd;AAMD,aAPD;AANF,8CAcS,QAdT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAiBe,Q;;;;;sEAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACQ,YAAA,KADR,GACgB,EADhB;AAAA;AAAA,mBAEkB,KAAK,CAAC,sCAAD,CAFvB;;AAAA;AAEM,YAAA,GAFN;AAAA;AAAA,mBAGgB,GAAG,CAAC,IAAJ,EAHhB;;AAAA;AAGM,YAAA,CAHN;AAIE,YAAA,CAAC,CAAC,OAAF,CAAU,UAAC,CAAD,EAAO;AACf,cAAA,KAAK,CAAC,IAAN,CAAW;AACT,gBAAA,KAAK,EAAE,CAAC,CAAC,IADA;AAET,gBAAA,KAAK,EAAE,CAAC,CAAC,EAFA;AAGT,gBAAA,KAAK,EAAE,CAHE;AAIT,gBAAA,MAAM,EAAE;AAJC,eAAX;AAMD,aAPD;AAJF,8CAYS,KAZT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAeA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT;AADU,GADC;AAIb,EAAA,IAJa,kBAIN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,EADJ;AAEL,MAAA,KAAK,EAAE,IAFF;AAGL,MAAA,SAAS,EAAC;AAHL,KAAP;AAKD,GAVY;AAWP,EAAA,OAXO,qBAWG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACO,QAAQ,EADf;;AAAA;AACd,cAAA,KAAI,CAAC,OADS;AAEd,cAAA,KAAI,CAAC,SAAL,GAAiB,KAAjB;;AAFc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGf,GAdY;AAeb,EAAA,KAAK,EAAE,CAAC,WAAD,EAAc,OAAd,CAfM;AAgBb,EAAA,KAAK,EAAC;AACJ,IAAA,KADI,iBACE,MADF,EACU;AACZ,WAAK,KAAL,CAAW,QAAX,EAAqB,MAArB;AACF;AAHI,GAhBO;AAqBb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,sBACI,MADJ,EACY;AACjB,aAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAa;AAC9B,QAAA,QAAQ,CAAC,MAAD,CAAR,CAAiB,IAAjB,CAAsB,UAAC,CAAD,EAAO;AAC3B,UAAA,MAAM,CAAC,QAAP,GAAkB,CAAlB;AACA,UAAA,OAAO;AACR,SAHD;AAID,OALM,CAAP;AAMF;AARO;AArBI,CAAf","sourcesContent":["<template>\r\n  <n-cascader\r\n    v-model:value=\"value\"\r\n    placeholder=\"请选择班级\"\r\n    :options=\"options\"\r\n    :leaf-only=\"true\"\r\n    :show-path=\"true\"\r\n    :multiple=\"multi\"\r\n    remote\r\n    clearable\r\n    :on-load=\"handleLoad\"\r\n    :loading=\"inloading\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport { NCascader } from \"naive-ui\";\r\n\r\nasync function getClass(option) {\r\n  const children = [];\r\n  let res = await fetch(\r\n    `https://localhost:5001/api/major:${option.value}/class:all`\r\n  );\r\n  let j = await res.json();\r\n  j.forEach((x) => {\r\n    children.push({\r\n      label: x.name,\r\n      value: x.id,\r\n      depth: option.depth,\r\n      isLeaf: true,\r\n    });\r\n  });\r\n  return children;\r\n}\r\n\r\nasync function getMajor() {\r\n  const major = [];\r\n  let res = await fetch(\"https://localhost:5001/api/major:all\");\r\n  let j = await res.json();\r\n  j.forEach((x) => {\r\n    major.push({\r\n      label: x.name,\r\n      value: x.id,\r\n      depth: 1,\r\n      isLeaf: false,\r\n    });\r\n  });\r\n  return major;\r\n}\r\n\r\nexport default {\r\n  components: {\r\n    NCascader,\r\n  },\r\n  data() {\r\n    return {\r\n      options: [],\r\n      value: null,\r\n      inloading:true\r\n    };\r\n  },\r\n  async mounted() {\r\n    this.options = await getMajor();\r\n    this.inloading = false\r\n  },\r\n  props: [\"on-change\", \"multi\"],\r\n  watch:{\r\n    value(newVal) {\r\n      this.$emit('change', newVal)\r\n    }\r\n  },\r\n  methods: {\r\n    handleLoad(option) {\r\n      return new Promise((resolve) => {\r\n        getClass(option).then((c) => {\r\n          option.children = c;\r\n          resolve();\r\n        });\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>"],"sourceRoot":""}]}