{"remainingRequest":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\src\\views\\CourseScoreDataEntry.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\src\\views\\CourseScoreDataEntry.vue","mtime":1627023478111},{"path":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654589906191},{"path":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\babel-loader\\lib\\index.js","mtime":1654589946268},{"path":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654589906191},{"path":"C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1654589924061}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL01hbnMndGVpJ24vRGVza3RvcC9teWNvZGUvLm5ldC9cdTUyNERcdTdBRUYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgeyBoIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgTkRhdGFUYWJsZSwgTlNwYWNlLCBOQnV0dG9uLCBOR3JpZCwgTkdpLCBOQ2FyZCwgdXNlTWVzc2FnZSwgTklucHV0TnVtYmVyIH0gZnJvbSAibmFpdmUtdWkiOwppbXBvcnQgQ291cnNlU2VsZWN0IGZyb20gIi4uL2NvbXBvbmVudHMvQ291cnNlU2VsZWN0LnZ1ZSI7CgpmdW5jdGlvbiBnZXRTdHVkZW50U2NvcmUoX3gpIHsKICByZXR1cm4gX2dldFN0dWRlbnRTY29yZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0U3R1ZGVudFNjb3JlKCkgewogIF9nZXRTdHVkZW50U2NvcmUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoY2lkKSB7CiAgICB2YXIgZiwgajsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly9sb2NhbGhvc3Q6NTAwMS9hcGkvY291cnNlOiIuY29uY2F0KGNpZCwgIi9zdHVkZW50OmFsbCIpKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGYgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgcmV0dXJuIGYuanNvbigpOwoKICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgaiA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGopOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRTdHVkZW50U2NvcmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE5EYXRhVGFibGU6IE5EYXRhVGFibGUsCiAgICBDb3Vyc2VTZWxlY3Q6IENvdXJzZVNlbGVjdCwKICAgIE5TcGFjZTogTlNwYWNlLAogICAgTkJ1dHRvbjogTkJ1dHRvbiwKICAgIE5HcmlkOiBOR3JpZCwKICAgIE5HaTogTkdpLAogICAgTkNhcmQ6IE5DYXJkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0Q291cnNlOiBudWxsLAogICAgICBpbmxvYWRpbmc6IGZhbHNlLAogICAgICBjb2x1bW5zOiBbewogICAgICAgIHRpdGxlOiAi5a2m5Y+3IiwKICAgICAgICBrZXk6ICJpZCIKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5aeT5ZCNIiwKICAgICAgICBrZXk6ICJuYW1lIgogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLmiJDnu6kiLAogICAgICAgIGtleTogInNjb3JlIiwKICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihyb3cpIHsKICAgICAgICAgIHJldHVybiBoKE5JbnB1dE51bWJlciwgewogICAgICAgICAgICB2YWx1ZTogcm93LnNjb3JlLAogICAgICAgICAgICAib25VcGRhdGU6dmFsdWUiOiBmdW5jdGlvbiBvblVwZGF0ZVZhbHVlKHYpIHsKICAgICAgICAgICAgICByZXR1cm4gcm93LnNjb3JlID0gdjsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbWF4OiAxMDAsCiAgICAgICAgICAgIG1pbjogMAogICAgICAgICAgfSwgbnVsbCk7CiAgICAgICAgfQogICAgICB9XSwKICAgICAgZGF0YTogW10sCiAgICAgIHBhZ2luYXRpb246IHsKICAgICAgICBwYWdlU2l6ZTogMTAKICAgICAgfQogICAgfTsKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciBtc2cgPSB1c2VNZXNzYWdlKCk7CiAgICByZXR1cm4gewogICAgICBpbmZvOiBmdW5jdGlvbiBpbmZvKG0pIHsKICAgICAgICBtc2cuaW5mbyhtKTsKICAgICAgfSwKICAgICAgd2FybjogZnVuY3Rpb24gd2FybihtKSB7CiAgICAgICAgbXNnLndhcm5pbmcobSk7CiAgICAgIH0sCiAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihtKSB7CiAgICAgICAgbXNnLmVycm9yKG0pOwogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcXVlcnk6IGZ1bmN0aW9uIHF1ZXJ5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5pbmxvYWRpbmcgPSB0cnVlOwogICAgICBnZXRTdHVkZW50U2NvcmUodGhpcy5zZWxlY3RDb3Vyc2UpLnRoZW4oZnVuY3Rpb24gKGQpIHsKICAgICAgICBfdGhpcy5kYXRhID0gZDsKICAgICAgICBfdGhpcy5pbmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmlubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpcy5lcnJvcigi6I635Y+W5pWw5o2u5aSx6LSlIik7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZmV0Y2goImh0dHBzOi8vbG9jYWxob3N0OjUwMDEvYXBpL2NvdXJzZToiLmNvbmNhdCh0aGlzLnNlbGVjdENvdXJzZSwgIi9zdHVkZW50OmFsbCIpLCB7CiAgICAgICAgbWV0aG9kOiAiUFVUIiwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpLAogICAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICB9KQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuaW5mbygi5L+d5a2Y5a6M5q+VIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuZXJyb3IoIuS/neWtmOWksei0pSIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\Users\\Mans'tei'n\\Desktop\\mycode\\.net\\前端\\src\\views\\CourseScoreDataEntry.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <n-space vertical>\r\n    <n-card title=\"学生成绩管理\" hoverable>\r\n      <n-space vertical>\r\n        <n-grid x-gap=\"12\" :cols=\"3\">\r\n          <n-gi>\r\n            <course-select v-on:change=\"selectCourse = $event\" />\r\n          </n-gi>\r\n          <n-gi>\r\n            <n-space>\r\n              <n-button @click=\"query\">选择</n-button>\r\n              <n-button @click=\"save\">保存数据</n-button>\r\n            </n-space>\r\n          </n-gi>\r\n        </n-grid>\r\n        <n-data-table\r\n          :row-key=\"(c) => c.id\"\r\n          :columns=\"columns\"\r\n          :data=\"data\"\r\n          :pagination=\"pagination\"\r\n          :loading=\"inloading\"\r\n        />\r\n      </n-space> </n-card\r\n  ></n-space>\r\n</template>\r\n\r\n<script>\r\nimport { h } from \"vue\";\r\nimport {\r\n  NDataTable,\r\n  NSpace,\r\n  NButton,\r\n  NGrid,\r\n  NGi,\r\n  NCard,\r\n  useMessage,\r\n  NInputNumber,\r\n} from \"naive-ui\";\r\nimport CourseSelect from \"../components/CourseSelect.vue\";\r\n\r\nasync function getStudentScore(cid) {\r\n  let f = await fetch(`https://localhost:5001/api/course:${cid}/student:all`);\r\n  let j = await f.json();\r\n  return j;\r\n}\r\n\r\nexport default {\r\n  components: {\r\n    NDataTable,\r\n    CourseSelect,\r\n    NSpace,\r\n    NButton,\r\n    NGrid,\r\n    NGi,\r\n    NCard,\r\n  },\r\n  data() {\r\n    return {\r\n      selectCourse: null,\r\n      inloading: false,\r\n      columns: [\r\n        {\r\n          title: \"学号\",\r\n          key: \"id\",\r\n        },\r\n        {\r\n          title: \"姓名\",\r\n          key: \"name\",\r\n        },\r\n        {\r\n          title: \"成绩\",\r\n          key: \"score\",\r\n          render(row) {\r\n            return h(\r\n              NInputNumber,\r\n              {\r\n                value: row.score,\r\n                \"onUpdate:value\": (v) => (row.score = v),\r\n                max: 100,\r\n                min: 0,\r\n              },\r\n              null\r\n            );\r\n          },\r\n        },\r\n      ],\r\n      data: [],\r\n      pagination: {\r\n        pageSize: 10,\r\n      },\r\n    };\r\n  },\r\n  setup() {\r\n    const msg = useMessage();\r\n    return {\r\n      info(m) {\r\n        msg.info(m);\r\n      },\r\n      warn(m) {\r\n        msg.warning(m);\r\n      },\r\n      error(m) {\r\n        msg.error(m);\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    query() {\r\n      this.inloading = true;\r\n      getStudentScore(this.selectCourse)\r\n        .then((d) => {\r\n          this.data = d;\r\n          this.inloading = false;\r\n        })\r\n        .catch(() => {\r\n          this.inloading = false;\r\n          this.error(\"获取数据失败\")\r\n        });\r\n    },\r\n    save() {\r\n      fetch(\r\n        `https://localhost:5001/api/course:${this.selectCourse}/student:all`,\r\n        {\r\n          method: \"PUT\",\r\n          body: JSON.stringify(this.data),\r\n          headers: new Headers({\r\n            \"Content-Type\": \"application/json\",\r\n          }),\r\n        }\r\n      )\r\n        .then(() => {\r\n          this.info(\"保存完毕\");\r\n        })\r\n        .catch(() => {\r\n          this.error(\"保存失败\");\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>"],"sourceRoot":""}]}